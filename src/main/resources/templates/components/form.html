<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">
</head>
<body>

<form id="registrationForm" class="row g-3 p-5">
    <div class="col-md-6">
        <label for="name" class="form-label">Name</label>
        <input class="form-control" id="name" name="name">
    </div>
    <div class="col-md-6">
        <label for="surname" class="form-label">Surname</label>
        <input class="form-control" id="surname" name="surname">
    </div>
    <div class="col-12">
        <label for="fiscal" class="form-label">Fiscal Code</label>
        <input class="form-control" id="fiscal" name="fiscalCode">
    </div>
    <div class="col-12">
        <label for="diabetes" class="form-label">Diabetes Type</label>
        <input type="text" class="form-control" id="diabetes" name="diabetesType">
    </div>
    <div class="col-md-6">
        <label for="birthdate" class="form-label">Birthdate</label>
        <input type="text" class="form-control" id="birthdate" name="birthDate">
    </div>
    <div class="col-md-6">
        <label for="height" class="form-label">Height</label>
        <input type="text" class="form-control" id="height" name="height">
    </div>
    <div class="col-md-6">
        <label for="weight" class="form-label">Weight</label>
        <input type="text" class="form-control" id="weight" name="weight">
    </div>
    <div class="col-12">
        <button type="submit" class="btn btn-primary">Conferma</button>
    </div>
</form>

<script>
    document.getElementById('registrationForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const data = {
            name: document.getElementById('name').value,
            surname: document.getElementById('surname').value,
            fiscalCode: document.getElementById('fiscal').value,
            diabetesType: document.getElementById('diabetes').value,
            birthDate: document.getElementById('birthdate').value,
            height: document.getElementById('height').value,
            weight: document.getElementById('weight').value
        };

        fetch('/patient/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(data)
        })
            .then(response => response.json())
            .then(data => {
                document.getElementById('registrationForm').reset();
            })
            .catch((error) => {
                console.error('Error:', error);
            });
    });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>
</html>


